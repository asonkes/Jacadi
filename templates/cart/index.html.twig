{% extends 'base.html.twig' %}

{% block title %}Jacadi - Panier
{% endblock %}

{% block og_title %}
	Jacadi - Panier
{% endblock %}

{% block body %}

	<section class="j-section js-page-content">
		<div class="j-homeCover" style="background-image: url('{{ asset('images/backgroundImages/doudou.webp') }}')">
			<img class="j-homeLogo" src="{{ asset('images/Logo/Logo.png')}}">
		</div>

		<div class="j-loginRegister" style="background-image: url('{{ asset('images/backgroundImages/ciment-texture_1194-6501.webp') }}')">

			<a href=" {{ path('home') }} " class="j-linkPage__Parent">
				<div class="j-linkPage">
					<i class="fa-solid fa-chevron-right j-linkPage__icon"></i>
					<p class="j-linkPage__text">Retour à l'accueil</p>
				</div>
			</a>
			<div class="j-loginRegister__form">
				<h3>Panier</h3>
				<table>
					<thead>
						<tr>
							<th>Produit</th>
							<th>Prix</th>
							<th>Quantité</th>
							<th>Total</th>
							<th>Action</th>
							<th>Action</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						{% for element in data %}
							<tr>
								<td>{{ element.product.name }}</td>
								<td>{{ element.product.price}}
									€</td>
								<td>{{ element.quantity }}</td>
								<td>{{ element.quantity * element.product.price }}
									€</td>
								<td>
									<a href="{{ path('cart_add', {'id': element.product.id})}}">+</a>


								</td>
								<td>
									<a href="{{ path('cart_remove', {'id': element.product.id})}}">-</a>
								</td>
								<td>
									<a href="{{ path('cart_delete', {'id': element.product.id})}}">Supprimer</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td>Votre panier est vide</td>
							</tr>
						{% endfor %}
					</tbody>
					<tfoot>
						<td>Total</td>
						<td>{{ total }}
							€</td>
						<td>
							<a href="{{ path('cart_empty')}}">Vider</a>
						</td>
					</tfoot>
				</table>
			</div>
		</div>
	</section>
{% endblock %}
